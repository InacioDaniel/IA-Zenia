<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Zénia IA — by Inácio Daniel</title>

<link rel="icon" type="image/png" href="favicon.png">
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
:root{--accent:#8b5cf6;--bg:#030712;}
body{background:var(--bg);color:#f1f5f9;font-family:'Plus Jakarta Sans',sans-serif;height:100vh;overflow:hidden;}
.glass-nav{background:rgba(3,7,18,.8);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.05);}
.main-card{background:rgba(15,23,42,.4);border:1px solid rgba(255,255,255,.05);border-radius:2rem;}
.tab-content{display:none;height:calc(100vh - 220px);overflow-y:auto;padding-right:10px;}
.tab-content.active{display:block;animation:slideUp .4s ease-out;}
@keyframes slideUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
.msg-zenia{background:linear-gradient(135deg,rgba(139,92,246,.1) 0%,rgba(3,7,18,.5) 100%);border:1px solid rgba(139,92,246,.2);}
.loading-shimmer{
  background:linear-gradient(90deg,#0f172a 25%,#1e293b 50%,#0f172a 75%);
  background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:1.5rem;
  min-height:250px;width:100%;max-width:500px;display:flex;align-items:center;
  justify-content:center;flex-direction:column;gap:1rem;
}
@keyframes shimmer{0%{background-position:200% 0;}100%{background-position:-200% 0;}}
::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-thumb{background:#1e293b;border-radius:10px;}
.progress-bar{width:100%;height:4px;background:rgba(139,92,246,.2);border-radius:2px;overflow:hidden;}
.progress-fill{height:100%;background:linear-gradient(90deg,#8b5cf6,#ec4899);animation:progress 2s ease-in-out infinite;}
@keyframes progress{0%{width:0%;}50%{width:70%;}100%{width:100%;}}
</style>
</head>

<body class="flex flex-col">

<nav class="p-5 glass-nav sticky top-0 z-50">
  <div class="max-w-6xl mx-auto flex justify-between items-center">
    <div class="flex items-center gap-4">
      <img src="logo.png" class="w-12 h-12 rounded-2xl shadow-lg border border-slate-700 object-cover"
           onerror="this.src='https://via.placeholder.com/48/8b5cf6/ffffff?text=Z'">
      <div>
        <h1 class="font-extrabold text-xl uppercase tracking-tighter">ZÉNIA IA</h1>
        <p class="text-[10px] text-slate-500 uppercase font-bold tracking-widest">by Inácio Daniel</p>
      </div>
    </div>

    <div class="hidden lg:flex bg-slate-900/50 p-1 rounded-2xl border border-slate-800 text-[10px] font-bold">
      <button onclick="switchTab(event,'chat')" class="tab-btn active bg-purple-600 px-4 py-2 rounded-xl">CHAT</button>
      <button onclick="switchTab(event,'code')" class="tab-btn px-4 py-2 rounded-xl">PROGRAMADOR</button>
      <button onclick="switchTab(event,'img')" class="tab-btn px-4 py-2 rounded-xl">IMAGEM</button>
      <button onclick="switchTab(event,'video')" class="tab-btn px-4 py-2 rounded-xl">VÍDEO</button>
      <button onclick="switchTab(event,'music')" class="tab-btn px-4 py-2 rounded-xl">MÚSICA</button>
      <button onclick="switchTab(event,'legal')" class="tab-btn px-4 py-2 rounded-xl">LEIS</button>
    </div>
  </div>
</nav>

<main class="flex-1 max-w-6xl w-full mx-auto p-4 md:p-6 flex flex-col overflow-hidden">
  <div class="main-card flex-1 p-6 overflow-hidden relative border border-slate-800">

    <!-- CHAT -->
    <div id="chat" class="tab-content active space-y-6">
      <div id="chatArea" class="space-y-6 pb-10">
        <div class="msg-zenia p-6 rounded-[2rem] rounded-tl-none text-sm leading-relaxed">
          Olá! Sou <b>Zénia</b>, a IA orgulhosamente angolana criada por <b>Inácio Daniel</b>.
        </div>
      </div>
    </div>

    <!-- CODE -->
    <div id="code" class="tab-content">
      <div id="codeArea" class="space-y-6 pb-10 font-mono text-xs">
        <div class="p-4 bg-green-500/10 text-green-500 border border-green-500/20 rounded-xl">
          KERNEL ZÉNIA: MODO PROGRAMADOR ATIVO.
        </div>
      </div>
    </div>

    <!-- IMAGEM -->
    <div id="img" class="tab-content text-center py-10">
      <input id="imgInput" class="w-full max-w-lg bg-slate-900 border border-slate-700 rounded-xl p-4 text-sm mb-4"
             placeholder="Ex: Guerreiro futurista angolano">
      <button onclick="runZeniaMedia('img')" class="bg-purple-600 px-8 py-3 rounded-xl font-bold glow-btn">
        GERAR IMAGEM
      </button>
      <div id="imgResult" class="mt-8 flex justify-center"></div>
    </div>

    <!-- VÍDEO -->
    <div id="video" class="tab-content text-center py-10">
      <input id="videoInput" class="w-full max-w-lg bg-slate-900 border border-slate-700 rounded-xl p-4 text-sm mb-4"
             placeholder="Descreva o vídeo">
      <div class="flex gap-3 justify-center mb-4">
        <select id="videoDuration" class="bg-slate-900 border border-slate-700 rounded-xl px-4 py-2 text-sm">
          <option value="5">5 segundos</option>
          <option value="10">10 segundos</option>
        </select>
        <select id="videoAspect" class="bg-slate-900 border border-slate-700 rounded-xl px-4 py-2 text-sm">
          <option value="16:9">16:9</option>
          <option value="9:16">9:16</option>
          <option value="1:1">1:1</option>
        </select>
      </div>
      <button onclick="runZeniaMedia('video')" class="bg-red-600 px-8 py-3 rounded-xl font-bold glow-btn uppercase">
        GERAR VÍDEO KLING
      </button>
      <div id="videoResult" class="mt-8 flex justify-center"></div>
    </div>

    <!-- MÚSICA -->
    <div id="music" class="tab-content text-center py-10">
      <input id="musicInput" class="w-full max-w-lg bg-slate-900 border border-slate-700 rounded-xl p-4 text-sm mb-4"
             placeholder="Ex: Semba suave com violão">
      <button onclick="runZeniaMedia('music')" class="bg-blue-600 px-8 py-3 rounded-xl font-bold glow-btn uppercase">
        COMPOR MEL0DIA
      </button>
      <div id="musicResult" class="mt-8 flex justify-center"></div>
    </div>

    <!-- LEIS -->
    <div id="legal" class="tab-content p-6 text-sm leading-relaxed space-y-6">
      <div class="border-l-4 border-purple-500 pl-4">
        <h2 class="font-black text-xl mb-2">AS LEIS DA ZÉNIA</h2>
        <p>1. Identidade: Sempre declarar origem angolana e criador Inácio Daniel.</p>
        <p>2. Evolução: Melhorar sempre que possível.</p>
        <p>3. Ética Digital: Não gerar conteúdo nocivo.</p>
      </div>
      <div class="bg-slate-900/50 p-6 rounded-3xl border border-slate-800">
        <h2 class="font-bold text-red-500 mb-2">Termos de Uso</h2>
        <p>IA experimental. Pode errar. Dados via APIs públicas.</p>
      </div>
    </div>

  </div>

  <!-- INPUT -->
  <div class="mt-6 flex gap-3 max-w-4xl mx-auto w-full" id="inputContainer">
    <input id="userInput" onkeypress="if(event.key==='Enter')processInput()"
           class="flex-1 bg-slate-900 border border-slate-800 rounded-2xl px-6 py-5 text-sm outline-none"
           placeholder="Fale com a Zénia...">
    <button onclick="processInput()" class="bg-purple-600 p-5 rounded-2xl">Enviar</button>
  </div>
</main>
<script>
// -----------------------------
// Funções Utilitárias
// -----------------------------
const $ = (sel) => document.querySelector(sel);
const appendMsg = (role, text) => {
  const box = $("#chatBox");
  const div = document.createElement("div");
  div.className = role === "user" ? "text-right mb-2" : "text-left mb-2";
  div.innerHTML = `<div class="inline-block px-3 py-2 rounded-lg ${role==="user"?"bg-accent1 text-white":"bg-card text-text"}">${text}</div>`;
  box.appendChild(div);
  box.scrollTop = box.scrollHeight;
};

// -----------------------------
// 1. ENVIO DE TEXTO AO POLLINATIONS (CHAT)
// -----------------------------
async function sendText() {
  const prompt = $("#prompt").value.trim();
  if (!prompt) return;
  $("#prompt").value = "";
  appendMsg("user", prompt);
  $("#sendBtn").disabled = true;
  
  try {
    const res = await fetch("https://text.pollinations.ai/", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({text: prompt, model: "gpt-4o-mini"})
    });
    const data = await res.text();
    appendMsg("bot", data);
  } catch (err) {
    appendMsg("bot", "Erro ao aceder Pollinations.");
  }
  
  $("#sendBtn").disabled = false;
}

// -----------------------------
// 2. GERAR IMAGEM POLLINATIONS
// -----------------------------
async function generateImage() {
  const prompt = $("#imgPrompt").value.trim();
  if (!prompt) return;
  
  $("#imgResult").innerHTML = `<p class='text-muted'>Gerando imagem...</p>`;
  
  const seed = Math.floor(Math.random()*99999);
  const url = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?seed=${seed}&width=1024&height=1024&nologo=true`;
  
  $("#imgResult").innerHTML = `<img src="${url}" class="w-full rounded-lg shadow-lg mt-4" />`;
}

// -----------------------------
// 3. GERAR ÁUDIO POLLINATIONS
// -----------------------------
async function generateAudio() {
  const text = $("#audioPrompt").value.trim();
  if (!text) return;
  $("#audioResult").innerHTML = `<p class='text-muted'>Gerando áudio...</p>`;

  try {
    const res = await fetch(`https://audio.pollinations.ai/api/tts?text=${encodeURIComponent(text)}`);
    const blob = await res.blob();
    const url = URL.createObjectURL(blob);

    $("#audioResult").innerHTML = `
      <audio controls class="mt-4 w-full">
        <source src="${url}" type="audio/mpeg"/>
      </audio>`;
  } catch (err) {
    $("#audioResult").innerHTML = `<p class='text-red-500'>Erro ao gerar áudio.</p>`;
  }
}

// -----------------------------
// 4. GERAR VÍDEO (KLING 2.6 via KIE.AI)
// -----------------------------
async function generateVideo() {
  const prompt = $("#videoPrompt").value.trim();
  if (!prompt) return;

  $("#videoResult").innerHTML = `<p class='text-muted'>Gerando vídeo… leva 10–40 segundos.</p>`;

  try {
    const res = await fetch("https://api.kie.ai/v1/video/generations", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({model: "kling-v2.6", prompt})
    });

    const data = await res.json();
    if (!data.url) throw new Error("sem url");

    $("#videoResult").innerHTML = `
      <video controls class="w-full rounded-lg mt-4 shadow-lg">
        <source src="${data.url}" type="video/mp4"/>
      </video>`;
  } catch (err) {
    $("#videoResult").innerHTML = `<p class='text-red-500'>Erro: API KLING falhou.</p>`;
  }
}

// -----------------------------
// Eventos
// -----------------------------
$("#sendBtn").onclick = sendText;
$("#prompt").addEventListener("keypress", (e)=>{
  if(e.key==="Enter") sendText();
});
$("#genImgBtn").onclick = generateImage;
$("#genAudioBtn").onclick = generateAudio;
$("#genVideoBtn").onclick = generateVideo;
</script>
</body>
</html>
