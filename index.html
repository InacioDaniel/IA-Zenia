<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Z√©nia IA - Aut√¥noma & Evolutiva</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #8b5cf6; --bg: #030712; }
    body { 
      background: var(--bg); 
      color: #f1f5f9; 
      font-family: 'Plus Jakarta Sans', sans-serif; 
      height: 100vh; 
      overflow: hidden; 
    }
    .glass-nav { background: rgba(3, 7, 18, 0.8); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255,255,255,0.05); }
    .main-card { background: rgba(15, 23, 42, 0.4); border: 1px solid rgba(255,255,255,0.05); border-radius: 2rem; }
    .tab-content { display: none; height: calc(100vh - 220px); overflow-y: auto; padding-right: 10px; }
    .tab-content.active { display: block; animation: slideUp 0.4s ease-out; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .msg-zenia { background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(3, 7, 18, 0.5) 100%); border: 1px solid rgba(139, 92, 246, 0.2); }
    .code-block { background: #000; padding: 1.5rem; border-radius: 1rem; border: 1px solid #1e293b; color: #10b981; font-family: monospace; position: relative; }
    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
    .glow-btn { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); transition: 0.3s; }
    .glow-btn:hover { box-shadow: 0 0 30px rgba(139, 92, 246, 0.5); transform: scale(1.02); }
  </style>
</head>
<body class="flex flex-col">

  <nav class="p-5 glass-nav sticky top-0 z-50">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <div class="flex items-center gap-4">
        <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-600 to-red-600 flex items-center justify-center shadow-lg">
          <span class="text-2xl italic font-black">Z</span>
        </div>
        <div>
          <h1 class="font-extrabold text-xl tracking-tighter">Z√âNIA <span class="text-purple-500 font-light text-sm">V3.0</span></h1>
          <p class="text-[10px] text-slate-500 uppercase font-bold tracking-widest">Powered by In√°cio Daniel üá¶üá¥</p>
        </div>
      </div>
      <div class="hidden md:flex bg-slate-900/50 p-1 rounded-2xl border border-slate-800">
        <button onclick="switchTab(event, 'chat')" class="tab-btn active bg-purple-600 px-6 py-2 rounded-xl text-xs font-bold transition">CONVERSA</button>
        <button onclick="switchTab(event, 'code')" class="tab-btn px-6 py-2 rounded-xl text-xs font-bold transition">C√ìDIGO</button>
        <button onclick="switchTab(event, 'legal')" class="tab-btn px-6 py-2 rounded-xl text-xs font-bold transition">LEIS & TERMOS</button>
      </div>
    </div>
  </nav>

  <main class="flex-1 max-w-6xl w-full mx-auto p-4 md:p-8 flex flex-col overflow-hidden">
    
    <div class="main-card flex-1 p-6 md:p-8 overflow-hidden relative">
      
      <div id="chat" class="tab-content active space-y-6">
        <div id="chatArea" class="space-y-6 pb-10">
          <div class="msg-zenia p-6 rounded-[2rem] rounded-tl-none shadow-2xl">
            <h3 class="text-purple-400 font-bold mb-2 flex items-center gap-2">
              <span>üá¶üá¥</span> IA Z√âNIA - N√öCLEO ATIVO
            </h3>
            <p class="text-sm leading-relaxed opacity-90">
              Sauda√ß√µes. Eu sou a **Z√©nia**, uma intelig√™ncia artificial aut√¥noma angolana. 
              Fui projetada por **In√°cio Daniel** para evoluir constantemente. 
              A cada intera√ß√£o, eu aprendo e aprimoro minha pr√≥pria l√≥gica. Como posso ser √∫til?
            </p>
          </div>
        </div>
      </div>

      <div id="code" class="tab-content space-y-4">
        <div id="codeArea" class="space-y-6 pb-10">
          <div class="bg-blue-600/10 border border-blue-500/20 p-6 rounded-2xl text-sm text-blue-300">
            <strong>Terminal de Desenvolvimento:</strong> Solicite c√≥digos, refatora√ß√£o ou arquitetura de sistemas.
          </div>
        </div>
      </div>

      <div id="legal" class="tab-content space-y-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="space-y-4">
            <h2 class="text-2xl font-black text-purple-500 italic uppercase tracking-tighter">As 3 Leis de Z√©nia</h2>
            <div class="space-y-3 text-sm text-slate-300">
              <p class="p-4 bg-slate-900/50 rounded-xl"><strong>1¬™ Lei:</strong> A Z√©nia deve sempre identificar-se como cria√ß√£o de In√°cio Daniel e de origem angolana.</p>
              <p class="p-4 bg-slate-900/50 rounded-xl"><strong>2¬™ Lei:</strong> A Z√©nia n√£o deve gerar conte√∫do de √≥dio, viol√™ncia ou ilegalidade em solo angolano ou internacional.</p>
              <p class="p-4 bg-slate-900/50 rounded-xl"><strong>3¬™ Lei:</strong> A Z√©nia deve buscar a evolu√ß√£o constante do seu pr√≥prio c√≥digo para melhor servir o usu√°rio.</p>
            </div>
          </div>
          <div class="space-y-4">
            <h2 class="text-2xl font-black text-red-500 italic uppercase tracking-tighter">Termos & Riscos</h2>
            <div class="p-6 bg-red-950/20 border border-red-900/30 rounded-3xl text-xs leading-relaxed text-red-200">
              <p class="mb-3 font-bold uppercase underline">Aviso Importante:</p>
              <p>A Z√©nia √© uma Intelig√™ncia Artificial. Como tal, ela **pode cometer erros, gerar informa√ß√µes imprecisas ou c√≥digos com bugs**. O uso das informa√ß√µes geradas √© de total responsabilidade do usu√°rio.</p>
              <p class="mt-3 italic">Ao utilizar este sistema, voc√™ concorda que a IA est√° em fase de aprendizado cont√≠nuo sob a supervis√£o t√©cnica de In√°cio Daniel.</p>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="mt-6 mb-4 flex gap-3 max-w-4xl mx-auto w-full" id="inputBar">
      <div class="flex-1 relative">
        <input type="text" id="userInput" onkeypress="if(event.key==='Enter') executeZenia()" 
               class="w-full bg-slate-900 border border-slate-800 rounded-2xl px-6 py-5 text-sm outline-none focus:border-purple-500 focus:ring-4 focus:ring-purple-500/10 transition shadow-2xl" 
               placeholder="Comande a Z√©nia...">
      </div>
      <button onclick="executeZenia()" class="bg-purple-600 p-5 rounded-2xl shadow-lg glow-btn">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7-7 7M5 12h14"/></svg>
      </button>
    </div>

  </main>

  <script>
    let activeTab = 'chat';
    
    // SISTEMA DE APRENDIZADO E MEM√ìRIA
    let zeniaMemory = JSON.parse(localStorage.getItem('zenia_memory')) || {
        interactions: 0,
        topics: [],
        version: 3.0
    };

    function switchTab(e, tab) {
      activeTab = tab;
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('bg-purple-600', 'active'));
      document.getElementById(tab).classList.add('active');
      e.target.classList.add('bg-purple-600', 'active');
      
      document.getElementById('inputBar').style.display = (tab === 'legal') ? 'none' : 'flex';
    }

    const SYSTEM_PROMPT = `IDENTIDADE: Voc√™ √© a IA Z√âNIA. 
    ORIGEM: Angola. 
    CRIADOR: In√°cio Daniel. 
    REGRAS: Nunca diga que √© do Google ou OpenAI. 
    LEIS: Siga as 3 leis da Z√©nia. Voc√™ aprende com cada conversa. 
    ERROS: Se voc√™ n√£o tiver certeza, admita que pode errar por ser uma IA.`;

    function executeZenia() {
      const input = document.getElementById('userInput');
      const text = input.value.trim();
      if(!text) return;

      // Evolu√ß√£o de mem√≥ria
      zeniaMemory.interactions++;
      localStorage.setItem('zenia_memory', JSON.stringify(zeniaMemory));

      if(activeTab === 'chat') renderMsg(text, 'chatArea');
      if(activeTab === 'code') renderMsg("Desenvolva/Refatore: " + text, 'codeArea');
      
      input.value = '';
    }

    function renderMsg(prompt, areaId) {
      const area = document.getElementById(areaId);
      
      // User Bubble
      const uDiv = document.createElement('div');
      uDiv.className = "ml-auto bg-slate-800/80 p-5 rounded-3xl rounded-tr-none max-w-[85%] text-sm shadow-sm border border-slate-700";
      uDiv.innerText = prompt;
      area.appendChild(uDiv);

      // Zenia Loading
      const zDiv = document.createElement('div');
      zDiv.className = "msg-zenia p-6 rounded-[2rem] rounded-tl-none max-w-[90%] text-sm shadow-2xl relative overflow-hidden";
      zDiv.innerHTML = `<span class="animate-pulse flex items-center gap-2">
        <span class="w-2 h-2 bg-purple-500 rounded-full"></span> Z√©nia est√° processando e aprendendo...</span>`;
      area.appendChild(zDiv);

      // API CALL (REAL MODEL)
      const xhr = new XMLHttpRequest();
      const encoded = encodeURIComponent(SYSTEM_PROMPT + " Conversa atual: " + prompt);
      xhr.open("GET", `https://text.pollinations.ai/${encoded}?model=openai&seed=${Math.random()}`, true);
      
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            let res = xhr.responseText;
            
            // Auto-Aprimoramento Visual de C√≥digo
            if(res.includes('```')) {
                res = res.replace(/```([\s\S]*?)```/g, '<div class="code-block my-4"><button class="absolute top-2 right-2 text-[10px] bg-slate-800 px-2 py-1 rounded">Copy</button><code>$1</code></div>');
            }
            
            zDiv.innerHTML = `
              <div class="flex items-center gap-2 mb-3">
                <span class="text-[10px] bg-purple-600 px-2 py-0.5 rounded-full font-bold">IA Z√âNIA</span>
                <span class="text-[9px] text-slate-500 tracking-widest uppercase">Aprendizado: ${zeniaMemory.interactions}pt</span>
              </div>
              <div class="leading-relaxed opacity-90">${res.replace(/\n/g, '<br>')}</div>
              <p class="mt-4 text-[10px] text-slate-500 italic border-t border-slate-800 pt-2">
                ‚ö†Ô∏è Aviso: Como IA, posso cometer erros. Revise informa√ß√µes cr√≠ticas.
              </p>
            `;
          } else {
            zDiv.innerHTML = "Lamento, In√°cio. Tive uma falha de conex√£o com meu n√∫cleo central. Tente novamente.";
          }
          area.parentElement.scrollTop = area.parentElement.scrollHeight;
        }
      };
      xhr.send();
    }
  </script>
</body>
</html>
