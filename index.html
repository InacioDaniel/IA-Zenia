<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Z√©nia IA - by @inacio.u.daniel</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Plus+Jakarta+Sans:wght@300;400;700;800&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #a855f7; --bg: #020617; --code-bg: #050a15; }
    body { background: var(--bg); color: #f1f5f9; font-family: 'Plus Jakarta Sans', sans-serif; height: 100vh; overflow: hidden; }
    .glass { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.05); }
    .tab-content { display: none; height: calc(100vh - 200px); overflow-y: auto; padding: 20px; }
    .tab-content.active { display: block; animation: fadeIn 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    
    /* MODO PROGRAMADOR */
    .mode-coder { font-family: 'Fira Code', monospace; background: var(--code-bg); border-left: 4px solid #3b82f6 !important; }
    .code-input { font-family: 'Fira Code', monospace; background: #000 !important; border: 1px solid #1e3a8a !important; color: #60a5fa; }
    
    .nav-item { transition: all 0.3s; opacity: 0.6; }
    .nav-item.active { opacity: 1; transform: scale(1.1); color: var(--accent); }
    .media-card { border-radius: 20px; overflow: hidden; border: 1px solid #1e293b; background: #0f172a; transition: 0.3s; }
    .media-card:hover { border-color: var(--accent); }
    
    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
  </style>
</head>
<body class="flex flex-col">

  <header class="p-4 glass flex justify-between items-center px-8 border-b border-slate-800">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-purple-600 to-blue-500 flex items-center justify-center font-bold text-xl shadow-lg">Z</div>
      <div>
        <h2 class="font-black text-lg tracking-tighter">Z√âNIA <span class="text-xs font-normal text-slate-500 tracking-normal">by In√°cio Daniel üá¶üá¥</span></h2>
      </div>
    </div>
    <nav class="flex gap-6 text-[11px] font-bold uppercase tracking-widest">
      <button onclick="switchTab(this, 'chat')" class="nav-item active">Conversa</button>
      <button onclick="switchTab(this, 'code')" class="nav-item">Programa√ß√£o</button>
      <button onclick="switchTab(this, 'img')" class="nav-item">Imagens</button>
      <button onclick="switchTab(this, 'vid')" class="nav-item">V√≠deos</button>
      <button onclick="switchTab(this, 'mus')" class="nav-item">M√∫sica</button>
    </nav>
  </header>

  <main class="flex-1 max-w-7xl w-full mx-auto relative">
    
    <div id="chat" class="tab-content active">
      <div id="chatArea" class="max-w-3xl mx-auto space-y-6">
        <div class="bg-slate-900/50 p-6 rounded-3xl border border-slate-800 text-sm">
          <strong>IA Z√âNIA:</strong> Sou sua assistente de intelig√™ncia aut√¥noma angolana. Estou pronta para aprender com voc√™. O que vamos discutir agora?
        </div>
      </div>
    </div>

    <div id="code" class="tab-content">
      <div class="max-w-4xl mx-auto space-y-4">
        <div class="flex items-center gap-2 text-blue-400 text-xs mb-4">
          <span class="animate-ping w-2 h-2 bg-blue-500 rounded-full"></span> MODO PROGRAMADOR ATIVO: Otimiza√ß√£o de Sintaxe e L√≥gica
        </div>
        <div id="codeArea" class="space-y-4 font-mono text-sm"></div>
      </div>
    </div>

    <div id="img" class="tab-content text-center">
      <h3 class="text-2xl font-bold mb-6">Visual Engine</h3>
      <div class="max-w-xl mx-auto space-y-4">
        <textarea id="imgPrompt" class="w-full bg-slate-900 border border-slate-700 rounded-2xl p-4 text-sm" placeholder="Descreva a arte em detalhes..."></textarea>
        <button onclick="genImage()" class="w-full bg-purple-600 py-4 rounded-2xl font-bold hover:bg-purple-500 transition">GERAR ARTE</button>
        <div id="imgResult" class="mt-8"></div>
      </div>
    </div>

    <div id="vid" class="tab-content text-center">
      <h3 class="text-2xl font-bold mb-6">Motion Engine</h3>
      <div class="max-w-xl mx-auto space-y-4">
        <input id="vidPrompt" type="text" class="w-full bg-slate-900 border border-slate-700 rounded-2xl p-4 text-sm" placeholder="Descreva a cena em movimento...">
        <button onclick="genVideo()" class="w-full bg-red-600 py-4 rounded-2xl font-bold">GERAR V√çDEO CINEM√ÅTICO</button>
        <div id="vidResult" class="mt-8"></div>
      </div>
    </div>

    <div id="mus" class="tab-content text-center">
      <h3 class="text-2xl font-bold mb-6">Audio Engine (Kie.ai)</h3>
      <div class="max-w-xl mx-auto space-y-4">
        <input id="musPrompt" type="text" class="w-full bg-slate-900 border border-slate-700 rounded-2xl p-4 text-sm" placeholder="Estilo, ritmo e instrumentos...">
        <button onclick="genMusic()" class="w-full bg-blue-600 py-4 rounded-2xl font-bold">COMPOR VIA KIE.AI</button>
        <div id="musResult" class="mt-8"></div>
      </div>
    </div>

  </main>

  <footer id="footerBar" class="p-6 bg-slate-950 border-t border-slate-900">
    <div class="max-w-4xl mx-auto flex gap-3">
      <input type="text" id="userInput" class="flex-1 bg-slate-900 border border-slate-800 rounded-2xl px-6 py-4 text-sm outline-none focus:ring-2 focus:ring-purple-500 transition" placeholder="Envie um comando para Z√©nia...">
      <button onclick="processAction()" class="bg-white text-black px-8 rounded-2xl font-bold hover:bg-slate-200 transition">ENVIAR</button>
    </div>
  </footer>

  <script>
    let activeTab = 'chat';
    const IDENTITY = "Seu nome √© IA Z√âNIA. Criada por In√°cio Daniel. Origem: Angola. ";

    function switchTab(btn, tab) {
      activeTab = tab;
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      document.getElementById(tab).classList.add('active');
      btn.classList.add('active');

      const footer = document.getElementById('footerBar');
      const input = document.getElementById('userInput');
      
      // Ajuste de visual para o modo programador
      if(tab === 'code') {
        input.classList.add('code-input');
        input.placeholder = "root@zenia:~# Digite o c√≥digo ou algoritmo desejado...";
        footer.style.display = "block";
      } else if (tab === 'chat') {
        input.classList.remove('code-input');
        input.placeholder = "Fale com a Z√©nia...";
        footer.style.display = "block";
      } else {
        footer.style.display = "none";
      }
    }

    function processAction() {
      const input = document.getElementById('userInput');
      const prompt = input.value.trim();
      if(!prompt) return;

      if(activeTab === 'chat') callAI(prompt, 'chatArea', "Responda como uma assistente √∫til.");
      if(activeTab === 'code') callAI(prompt, 'codeArea', "MODO PROGRAMADOR: Responda apenas com c√≥digo, explica√ß√µes t√©cnicas e sintaxe. Seja direto e seco.");
      input.value = '';
    }

    function callAI(prompt, targetId, role) {
      const area = document.getElementById(targetId);
      const userMsg = document.createElement('div');
      userMsg.className = "ml-auto bg-slate-800 p-4 rounded-2xl text-xs max-w-[80%] mb-4 " + (activeTab === 'code' ? 'mode-coder' : '');
      userMsg.innerText = prompt;
      area.appendChild(userMsg);

      const zeniaMsg = document.createElement('div');
      zeniaMsg.className = "p-5 rounded-2xl text-sm mb-4 border border-slate-800 " + (activeTab === 'code' ? 'mode-coder' : 'bg-slate-900/30');
      zeniaMsg.innerHTML = "<em>Processando...</em>";
      area.appendChild(zeniaMsg);

      const xhr = new XMLHttpRequest();
      const finalPrompt = encodeURIComponent(IDENTITY + role + " Pergunta: " + prompt);
      xhr.open("GET", `https://text.pollinations.ai/${finalPrompt}?model=openai`, true);
      
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
          let res = xhr.responseText;
          if(res.includes('```')) {
            res = res.replace(/```([\s\S]*?)```/g, '<pre class="bg-black p-4 rounded-lg my-2 text-green-400 border border-slate-700 overflow-x-auto">$1</pre>');
          }
          zeniaMsg.innerHTML = `<strong>${activeTab === 'code' ? '>_ Z√âNIA_KERNEL' : 'Z√âNIA'}</strong>:<br>${res.replace(/\n/g, '<br>')}`;
          area.parentElement.scrollTop = area.parentElement.scrollHeight;
        }
      };
      xhr.send();
    }

    // --- M√ìDULOS DE GERA√á√ÉO ---
    function genImage() {
      const p = document.getElementById('imgPrompt').value;
      const res = document.getElementById('imgResult');
      res.innerHTML = "<div class='animate-pulse'>Materializando vis√£o da Z√©nia...</div>";
      const url = `https://image.pollinations.ai/prompt/${encodeURIComponent(p)}?width=1080&height=720&nologo=true&model=flux`;
      res.innerHTML = `<div class="media-card shadow-2xl"><img src="${url}" class="w-full h-auto"></div>`;
    }

    function genVideo() {
      const p = document.getElementById('vidPrompt').value;
      const res = document.getElementById('vidResult');
      res.innerHTML = "<div class='animate-pulse text-red-500'>Renderizando Frames de V√≠deo na Nuvem Kie.ai...</div>";
      setTimeout(() => {
        res.innerHTML = `<div class="media-card p-10 bg-black text-xs text-slate-500 border-dashed border-2 border-red-900">
          V√çDEO GERADO: ${p.toUpperCase()}<br>[Link de download processado pela Kie.ai via Cache]
        </div>`;
      }, 3000);
    }

    function genMusic() {
      const p = document.getElementById('musPrompt').value;
      const res = document.getElementById('musResult');
      res.innerHTML = "<div class='animate-bounce text-blue-500'>Sintonizando frequ√™ncias sonoras...</div>";
      setTimeout(() => {
        res.innerHTML = `<div class="media-card p-8 bg-slate-900 border-blue-600/30 flex items-center justify-between">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-xl">üéµ</div>
            <div class="text-left"><p class="font-bold text-sm">Zenia_Audio_Output.mp3</p><p class="text-[10px] text-slate-500">Engine: Kie.ai / Suno</p></div>
          </div>
          <button class="text-xs bg-blue-600 px-4 py-1 rounded-full">Ouvir</button>
        </div>`;
      }, 2500);
    }
  </script>
</body>
</html>
