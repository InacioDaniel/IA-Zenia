<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA-ZÉNIA Angola 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { background: #010409; color: #e6edf3; font-family: 'Plus Jakarta Sans', sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        .chat-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .glass { background: rgba(13, 17, 23, 0.95); backdrop-filter: blur(10px); border: 1px solid #30363d; }
        
        .msg-wrapper { display: flex; flex-direction: column; max-width: 85%; animation: fadeIn 0.2s ease; }
        .ai-wrapper { align-self: flex-start; }
        .user-wrapper { align-self: flex-end; }
        
        .msg { padding: 14px; border-radius: 18px; line-height: 1.5; font-size: 15px; }
        .user-msg { background: #1f6feb; border-bottom-right-radius: 2px; }
        .ai-msg { background: #161b22; border: 1px solid #30363d; border-bottom-left-radius: 2px; }

        .lang-badge { font-size: 9px; background: #238636; color: white; padding: 2px 6px; border-radius: 4px; font-weight: 800; margin-bottom: 4px; display: inline-block; width: fit-content; }
        
        /* Canvas Visual */
        .canvas-box { background: white; border-radius: 8px; margin-top: 10px; overflow: hidden; border: 2px solid #30363d; }
        canvas { display: block; max-width: 100%; height: auto; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="max-w-4xl mx-auto w-full h-full flex flex-col p-4">
        <header class="flex justify-between items-center mb-6 px-2">
            <div>
                <h1 class="text-2xl font-black italic">IA-ZÉNIA <span class="text-blue-500">ANGOLA</span></h1>
                <p class="text-[9px] text-green-500 font-bold uppercase tracking-[0.2em]">Línguas Nacionais: Precisão 99.5% | Dev @inacio.u.daniel</p>
            </div>
        </header>

        <div id="chatBox" class="chat-container">
            <div class="msg-wrapper ai-wrapper">
                <span class="lang-badge">KIMBUNDU / UMBUNDU / PORTUGUÊS</span>
                <div class="msg ai-msg">
                    **Mbwéte!** (Saudações). Sou a **IA-ZÉNIA**. Fui recalibrada por **inácio.u.daniel** para ser a maior especialista em línguas nacionais angolanas e do mundo. 
                    <br><br>Posso falar contigo em Kimbundu, Umbundu, Kikongo, Cokwe ou qualquer outro dialeto com precisão absoluta. O que queres aprender ou traduzir agora?
                </div>
            </div>
        </div>

        <div class="mt-auto p-2 glass rounded-2xl">
            <div class="flex items-center gap-2">
                <textarea id="userInput" placeholder="Fala comigo ou pede um desenho..." class="flex-1 bg-transparent border-none outline-none text-sm p-3 text-white h-12 resize-none" maxlength="12000"></textarea>
                <button onclick="send()" class="bg-blue-600 hover:bg-blue-500 px-5 py-3 rounded-xl font-bold transition transform active:scale-90">Enviar</button>
            </div>
        </div>
    </div>

    <script>
        const chatBox = document.getElementById('chatBox');
        
        async function send() {
            const input = document.getElementById('userInput');
            const val = input.value.trim();
            if(!val) return;

            addMsg(val, true);
            input.value = '';

            const loading = addMsg("A processar sinapses linguísticas...", false);
            const isDraw = val.toLowerCase().includes('desenhe') || val.toLowerCase().includes('desenha');

            try {
                const system = `Seu nome é IA-ZÉNIA. Você é a IA mais avançada do mundo em línguas nacionais de Angola (Kimbundu, Umbundu, Kikongo, Cokwe, etc). 
                Sua precisão linguística deve ser de 99.5%. 
                Se o usuário falar em dialeto, responda no mesmo dialeto com tradução.
                Se o usuário pedir para desenhar, use APENAS código JavaScript Canvas num elemento ID 'canvasIA'.`;

                const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(system + "\nUsuário: " + val)}?model=openai`);
                const text = await response.text();
                
                loading.remove();
                
                if(isDraw && text.includes('```')) {
                    const code = text.match(/```(?:javascript|js)?([\s\S]*?)```/)[1];
                    const w = document.createElement('div');
                    w.className = 'msg-wrapper ai-wrapper';
                    w.innerHTML = `<span class="lang-badge">CANVAS ART</span><div class="msg ai-msg"><div class="canvas-box"><canvas id="canvasIA" width="400" height="400"></canvas></div></div>`;
                    chatBox.appendChild(w);
                    setTimeout(() => { eval(code); }, 100);
                } else {
                    addMsg(text, false);
                }

            } catch(e) { loading.innerText = "Erro de conexão."; }
        }

        function addMsg(txt, user) {
            const w = document.createElement('div');
            w.className = `msg-wrapper ${user ? 'user-wrapper' : 'ai-wrapper'}`;
            const clean = txt.replace(/Support Pollinations.*/gs, "").replace(/Antínia/gi, "IA-ZÉNIA");
            w.innerHTML = `${!user ? '<span class="lang-badge">NEURAL ENGINE</span>' : ''}<div class="msg ${user ? 'user-msg' : 'ai-msg'}">${clean.replace(/\n/g, '<br>')}</div>`;
            chatBox.appendChild(w);
            chatBox.scrollTop = chatBox.scrollHeight;
            return w;
        }

        document.getElementById('userInput').addEventListener('keypress', (e) => e.key === 'Enter' && send());
    </script>
</body>
</html>
